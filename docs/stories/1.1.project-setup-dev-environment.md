# Story 1.1: Project Setup & Development Environment

## Status

Approved

## Story

**As a** development team,
**I want** a properly configured development environment with all necessary dependencies and tooling,
**so that** we can efficiently develop and test the application with consistent standards.

## Acceptance Criteria

1. Node.js environment with proper version management and dependency locking
2. TypeScript configuration with strict type checking and consistent compiler options
3. ESLint and Prettier setup with healthcare-specific linting rules
4. Git hooks for pre-commit checks and code quality enforcement
5. Docker configuration for local development and production deployment
6. Documentation for setup instructions and development workflow

## Tasks / Subtasks

- [x] Node.js environment with version management and dependency locking (AC: 1)
  - [x] Adopt the current LTS Node version and record it in project tooling (e.g., .nvmrc or Volta) (AC: 1)
  - [x] Confirm pnpm is the package manager and the lockfile is committed (pnpm-lock.yaml) (AC: 1)
  - [x] Document required Node and pnpm versions in the setup docs (AC: 6)

- [x] TypeScript configuration with strict type checking (AC: 2)
  - [x] Ensure `nuxt typecheck` passes and is included in CI (AC: 2)
  - [x] Review `tsconfig.json` references and compiler options; add strictness where applicable (AC: 2)
  - [x] Document the typing workflow for contributors (AC: 6)

- [x] ESLint and Prettier setup (AC: 3)
  - [x] Verify ESLint integration via `@nuxt/eslint` and confirm rules alignment (AC: 3)
  - [x] Add Prettier configuration and formatting scripts (AC: 3)
  - [x] Ensure `pnpm run lint` covers the repository and document lint rules (AC: 6)

- [x] Git hooks for code quality (AC: 4)
  - [x] Add Husky and configure pre-commit to run lint and typecheck (AC: 4)
  - [x] Optionally add lint-staged for staged file linting (AC: 4)
  - [x] Document the hooks and how to bootstrap them (AC: 6)

- [x] Docker configuration for local and production (AC: 5)
  - [x] Create a Dockerfile aligned with our deployment strategy (AC: 5)
  - [x] Add docker-compose for local development; include a production compose if applicable (AC: 5)
  - [x] Document build/run commands and environment configuration (AC: 6)

- [x] Documentation for setup & workflow (AC: 6)
  - [x] Update Quick Start and Deployment Checklist with environment setup (AC: 6)
  - [x] Add developer workflow docs (install, dev server, linting, typecheck) (AC: 6)
  - [x] Include references to Docker usage and Git hooks (AC: 6)

## Dev Notes

- Current stack and tooling (validated from repository):
  - Package manager: pnpm (packageManager: pnpm@10.18.0) — see <mcfile name="package.json" path="/Users/adil/Dev/01-Projects/02-kine/web-app/package.json"></mcfile>
  - Nuxt 4 configured with modules `@nuxt/eslint`, `@nuxt/ui`, `@vueuse/nuxt` — see <mcfile name="nuxt.config.ts" path="/Users/adil/Dev/01-Projects/02-kine/web-app/nuxt.config.ts"></mcfile>
  - Scripts available: `build`, `dev`, `preview`, `postinstall`, `lint`, `typecheck` — see <mcfile name="package.json" path="/Users/adil/Dev/01-Projects/02-kine/web-app/package.json"></mcfile>
  - ESLint setup via `@nuxt/eslint` with project overrides — see <mcfile name="eslint.config.mjs" path="/Users/adil/Dev/01-Projects/02-kine/web-app/eslint.config.mjs"></mcfile>
  - TypeScript configuration references Nuxt-generated tsconfigs — see <mcfile name="tsconfig.json" path="/Users/adil/Dev/01-Projects/02-kine/web-app/tsconfig.json"></mcfile>

- Testing standards and examples (referenced from docs):
  - Unit testing with Vitest and example structure under `tests/unit/...` — see <mcfile name="testing-strategy.md" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docs/implementation-guide/testing-strategy.md"></mcfile>
  - Integration testing using `@nuxt/test-utils` — see <mcfile name="testing-strategy.md" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docs/implementation-guide/testing-strategy.md"></mcfile>
  - Ensure test file locations and conventions match documented examples (tests/unit, tests/integration)

- Docker strategy references:
  - Deployment strategy doc includes Dockerfile and docker-compose examples — see <mcfile name="deployment-strategy.md" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docs/architecture/deployment-strategy.md"></mcfile>
  - Deployment checklist references docker-compose commands — see <mcfile name="deployment-checklist.md" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docs/implementation-guide/deployment-checklist.md"></mcfile>

- Documentation updates:
  - Quick Start and setup guidance should live under `docs/implementation-guide/quick-start-checklist.md` and related implementation guides.

### Testing

- Unit tests: Use Vitest, colocate under `tests/unit/...` based on documented examples — see <mcfile name="testing-strategy.md" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docs/implementation-guide/testing-strategy.md"></mcfile>
- Integration tests: Use `@nuxt/test-utils` patterns under `tests/integration/...` — see <mcfile name="testing-strategy.md" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docs/implementation-guide/testing-strategy.md"></mcfile>
- Pre-commit: Ensure tests run in CI and hooks at least run lint/typecheck locally.

## Change Log

| Date | Version | Description | Author |
| 2025-10-07 | 0.2 | Completed environment setup, tooling, hooks, and Docker docs | Dev |
| 2025-10-07 | 0.3 | Added Husky hooks, lint-staged integration, and bootstrap docs | Dev |

## Dev Agent Record

- Agent Model Used: Trae AI
- Debug Log References: Husky/Prettier configuration and lint-staged setup
- Completion Notes List:
  - Prettier configured and executed across the repo
  - Husky pre-commit hook updated to run lint-staged
  - Husky pre-commit hook updated to run lint-staged and typecheck
  - TypeScript strictness reviewed and workflow documented
  - Dockerfile and docker-compose added; docs updated with build/run commands
- File List:
  - <mcfile name=".prettierrc.mjs" path="/Users/adil/Dev/01-Projects/02-kine/web-app/.prettierrc.mjs"></mcfile>
  - <mcfile name=".prettierignore" path="/Users/adil/Dev/01-Projects/02-kine/web-app/.prettierignore"></mcfile>
  - <mcfile name=".husky/pre-commit" path="/Users/adil/Dev/01-Projects/02-kine/web-app/.husky/pre-commit"></mcfile>
  - <mcfile name="eslint.config.mjs" path="/Users/adil/Dev/01-Projects/02-kine/web-app/eslint.config.mjs"></mcfile>
  - <mcfile name="Dockerfile" path="/Users/adil/Dev/01-Projects/02-kine/web-app/Dockerfile"></mcfile>
  - <mcfile name="docker-compose.yml" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docker-compose.yml"></mcfile>
  - <mcfile name="quick-start-checklist.md" path="/Users/adil/Dev/01-Projects/02-kine/web-app/docs/implementation-guide/quick-start-checklist.md"></mcfile>
